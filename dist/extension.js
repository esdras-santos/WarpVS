(()=>{"use strict";var e=[,e=>{e.exports=require("vscode")},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SidebarProvider=void 0;const r=i(1),o=i(3);t.SidebarProvider=class{constructor(e){this._extensionUri=e}resolveWebviewView(e){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},e.webview.html=this._getHtmlForWebview(e.webview),e.webview.onDidReceiveMessage((async e=>{switch(e.type){case"transpile":{if(!e.value)return;const t=r.window.activeTextEditor?.document.languageId;"solidity"===t?r.commands.executeCommand("warpvs.transpile"):r.window.showErrorMessage("You are not in a .sol file");break}case"onInfo":if(!e.value)return;r.window.showInformationMessage(e.value);break;case"onError":if(!e.value)return;r.window.showErrorMessage(e.value)}}))}revive(e){this._view=e}_getHtmlForWebview(e){const t=e.asWebviewUri(r.Uri.joinPath(this._extensionUri,"media","reset.css")),i=e.asWebviewUri(r.Uri.joinPath(this._extensionUri,"out","compiled/sidebar.js")),n=e.asWebviewUri(r.Uri.joinPath(this._extensionUri,"out","compiled/sidebar.css")),s=e.asWebviewUri(r.Uri.joinPath(this._extensionUri,"media","vscode.css")),a=(0,o.getNonce)();return`<!DOCTYPE html>\n\t\t\t<html lang="en">\n\t\t\t<head>\n\t\t\t\t<meta charset="UTF-8">\n\t\t\t\t\x3c!--\n\t\t\t\t\tUse a content security policy to only allow loading images from https or from our extension directory,\n\t\t\t\t\tand only allow scripts that have a specific nonce.\n        --\x3e\n        <meta http-equiv="Content-Security-Policy" content="img-src https: data:; style-src 'unsafe-inline' ${e.cspSource}; script-src 'nonce-${a}';">\n\t\t\t\t<meta name="viewport" content="width=device-width, initial-scale=1.0">\n\t\t\t\t<link href="${t}" rel="stylesheet">\n\t\t\t\t<link href="${s}" rel="stylesheet">\n        <link href="${n}" rel="stylesheet">\n        <script nonce="${a}">\n          const tsvscode = acquireVsCodeApi();\n        <\/script>        \n\t\t\t</head>\n      <body>\n        \n\t\t\t\t<script nonce="${a}" src="${i}"><\/script>\n\t\t\t</body>\n\t\t\t</html>`}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getNonce=void 0,t.getNonce=function(){let e="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<32;i++)e+=t.charAt(Math.floor(62*Math.random()));return e}},e=>{e.exports=require("path")},e=>{e.exports=require("child_process")}],t={};function i(r){var o=t[r];if(void 0!==o)return o.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,i),n.exports}var r={};(()=>{var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=void 0;const t=i(1),o=i(2),n=i(4),s=i(5);e.activate=function(e){const i=new o.SidebarProvider(e.extensionUri);e.subscriptions.push(t.window.registerWebviewViewProvider("warpvs-sidebar",i)),e.subscriptions.push(t.commands.registerCommand("warpvs.transpile",(async()=>{const e=t.window.activeTextEditor?.document.uri.path,i=n.resolve(__dirname,"..","bin","warp");console.log(i),(0,s.execSync)(`${i} ${e}`),t.window.showInformationMessage('Solidty file succefully transpiled! check the "warpvs-output" folder')})))},e.deactivate=function(){}})(),module.exports=r})();
//# sourceMappingURL=extension.js.map